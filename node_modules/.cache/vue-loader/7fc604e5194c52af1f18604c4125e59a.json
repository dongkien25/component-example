{"remainingRequest":"/home/kientd/Desktop/component-example/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kientd/Desktop/component-example/src/components/PassengerTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kientd/Desktop/component-example/src/components/PassengerTable.vue","mtime":1609991476394},{"path":"/home/kientd/Desktop/component-example/node_modules/cache-loader/dist/cjs.js","mtime":1609811301954},{"path":"/home/kientd/Desktop/component-example/node_modules/babel-loader/lib/index.js","mtime":1609811301934},{"path":"/home/kientd/Desktop/component-example/node_modules/cache-loader/dist/cjs.js","mtime":1609811301954},{"path":"/home/kientd/Desktop/component-example/node_modules/vue-loader/lib/index.js","mtime":1609811302570}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFZ1ZSwgQ29tcG9uZW50LCBQcm9wIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmNvbnN0IHVybEdldCA9ICJodHRwczovL2FwaS5pbnN0YW50d2VidG9vbHMubmV0L3YxL3Bhc3NlbmdlciI7CmNvbnN0IGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsKQENvbXBvbmVudApleHBvcnQgZGVmYXVsdCBjbGFzcyBQYXNzZW5nZXJUYWxlIGV4dGVuZHMgVnVlIHsKICBkaWFsb2dEZWxldGUgPSBmYWxzZTsKICBkaWFsb2dEZXRhaWwgPSBmYWxzZTsKICByb3dzID0gW107CiAgY29scyA9IFtdOwogIHBhc3NlbmdlciA9IHt9OwogIGRlbGV0ZUlkID0gMDsKLy8gICBlbGVtZW50UGVyUGFnZSA9IDEwOwovLyAgIGN1cnJlbnRQYWdlID0gMTsKICBnZXRQYWdlKHBhZ2UsIHNpemUpIHsKICAgIGF4aW9zLmdldChgJHt1cmxHZXR9P3BhZ2U9JHtwYWdlfSZzaXplPSR7c2l6ZX1gKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICB0aGlzLnJvd3MgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIAogICAgICAvLyAgIHRoaXMuY29scyA9IE9iamVjdC5rZXlzKHRoaXMucm93c1swXSk7CiAgICAgIC8vICAgY29uc29sZS5sb2coJ2NvbHMnLHRoaXMucm93c1swXSkKICAgIH0pOwogIH0KICBnZXRCeUlkKGlkID0gdGhpcy5zdGFydElkKSB7CiAgICBheGlvcy5nZXQoYCR7dXJsR2V0fS8ke2lkfWApCiAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgdGhpcy5wYXNzZW5nZXIgPSByZXNwb25zZS5kYXRhOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnBhc3Nlbmdlci5haXJsaW5lLmxvZ28pCiAgICB9KTsKICB9CiAgbW91bnRlZCgpIHsKICAgIGF4aW9zLmdldChgJHt1cmxHZXR9P3BhZ2U9MCZzaXplPTQwYCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgIAogICAgICB0aGlzLnJvd3MgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIHRoaXMuc3RhcnRJZCA9IHRoaXMucm93c1swXS5faWQKICAgICAgY29uc29sZS5sb2codGhpcy5zdGFydElkKTsKICAgICAgLy8gICB0aGlzLmNvbHMgPSBPYmplY3Qua2V5cyh0aGlzLnJvd3NbMF0pOwogICAgICAvLyAgIGNvbnNvbGUubG9nKCdjb2xzJyx0aGlzLnJvd3NbMF0pCiAgICB9KTsKICB9CiAgZGVsZXRlUGFzc2VuZ2VyKGlkKXsKICAgICAgYXhpb3MuZGVsZXRlKGAke3VybEdldH0vJHtpZH1gKQogICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKXsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGVsZXRlIHN1Y2Nlc3MnKQogICAgICAgICAgfQogICAgICB9KQogICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KQogIH0KfQo="},{"version":3,"sources":["PassengerTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PassengerTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"passenger-table\">\n    <div class=\"wrap-table-content\">\n      <h1 class=\"table-title\">Passenger table</h1>\n      <router-link class=\"create-link\" to=\"/form-passenger\">\n        <v-btn>Create</v-btn>\n      </router-link>\n      <table id=\"passengerTable\" class=\"table-data\">\n        <thead>\n          <tr>\n            <th>id</th>\n            <th>Name</th>\n            <th>trips</th>\n            <th>Logo</th>\n            <th>Control</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"row in rows\" :key=\"row.id\">\n            <td>{{ row._id }}</td>\n            <td>{{ row.name }}</td>\n            <td>{{ row.trips }}</td>\n            <td><img class=\"img-logo\" :src=\"row.airline.logo\" alt=\"\" /></td>\n            <td>\n              <div class=\"group-btn\">\n                <button class=\"control-btn btn-edit\">Edit</button>\n                <button\n                  @click=\"\n                    dialogDetail = true;\n                    getById(row._id);\n                  \"\n                  class=\"control-btn\"\n                >\n                  Detail\n                </button>\n                <button\n                  @click=\"dialogDelete = true;\"\n                  class=\"control-btn btn-delete\"\n                >\n                  Delete\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"pagination\">\n        <span @click=\"getPage(0, 5)\" class=\"number\"> 1 </span>\n        <span @click=\"getPage(1, 5)\" class=\"number\"> 2 </span>\n      </div>\n    </div>\n    <v-dialog v-model=\"dialogDelete\" hide-overlay width=\"500\">\n      <v-card>\n        <v-card-title>Confirm delete</v-card-title>\n        <v-card-text>Are you sure?</v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"error\" @click=\"deletePassenger()\"> Yes </v-btn>\n          <v-btn color=\"primary\" @click=\"dialogDelete = false\"> No </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog v-model=\"dialogDetail\" hide-overlay width=\"500\">\n      <v-card>\n        <v-card-title class=\"dialog-title\">Passenger</v-card-title>\n        <v-divider></v-divider>\n\n        <div class=\"detail-content\">\n          <!-- <li v-for=\"(a,index) in airline\" :key=\"index\">{{a}} : {{airline[a]}}</li> -->\n          <div class=\"detail-item\">\n            <div class=\"item-title\">ID</div>\n            <div class=\"item-content\">{{ passenger._id }}</div>\n          </div>\n          <v-divider></v-divider>\n          <div class=\"detail-item\">\n            <div class=\"item-title\">Name</div>\n            <div class=\"item-content\">{{ passenger.name }}</div>\n          </div>\n          <v-divider></v-divider>\n          <div class=\"detail-item\">\n            <div class=\"item-title\">Trips</div>\n            <div class=\"item-content\">{{ passenger.trips }}</div>\n          </div>\n          <v-divider></v-divider>\n          <div class=\"detail-item\">\n            <div class=\"item-title\">Logo</div>\n            <div class=\"item-content\">\n              <img class=\"img-logo\" v-if=\"passenger.airline\" :src=\"passenger.airline.logo\"  alt=\"\" />\n            </div>\n          </div>\n        </div>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"error\" @click=\"dialogDetail = false\"> Close </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\nconst urlGet = \"https://api.instantwebtools.net/v1/passenger\";\nconst axios = require(\"axios\");\n@Component\nexport default class PassengerTale extends Vue {\n  dialogDelete = false;\n  dialogDetail = false;\n  rows = [];\n  cols = [];\n  passenger = {};\n  deleteId = 0;\n//   elementPerPage = 10;\n//   currentPage = 1;\n  getPage(page, size) {\n    axios.get(`${urlGet}?page=${page}&size=${size}`).then((response) => {\n      this.rows = response.data.data;\n      \n      //   this.cols = Object.keys(this.rows[0]);\n      //   console.log('cols',this.rows[0])\n    });\n  }\n  getById(id = this.startId) {\n    axios.get(`${urlGet}/${id}`)\n    .then((response) => {\n      this.passenger = response.data;\n      console.log(this.passenger.airline.logo)\n    });\n  }\n  mounted() {\n    axios.get(`${urlGet}?page=0&size=40`).then((response) => {\n    \n      this.rows = response.data.data;\n      this.startId = this.rows[0]._id\n      console.log(this.startId);\n      //   this.cols = Object.keys(this.rows[0]);\n      //   console.log('cols',this.rows[0])\n    });\n  }\n  deletePassenger(id){\n      axios.delete(`${urlGet}/${id}`)\n      .then(response => {\n          console.log(response)\n          if(response.status === 200){\n              console.log('Delete success')\n          }\n      })\n      .catch(error => {\n          console.log(error);\n      })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n"]}]}